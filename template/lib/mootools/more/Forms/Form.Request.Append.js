Form.Request.Append=new Class({Extends:Form.Request,options:{useReveal:true,revealOptions:{},inject:"bottom"},makeRequest:function(){this.request=new Request.HTML($merge({url:this.element.get("action"),method:this.element.get("method")||"post",spinnerTarget:this.element},this.options.requestOptions,{evalScripts:false})).addEvents({success:function(b,g,f,a){var c;var d=Elements.from(f);if(d.length==1){c=d[0]}else{c=new Element("div",{styles:{display:"none"}}).adopt(d)}c.inject(this.update,this.options.inject);if(this.options.requestOptions.evalScripts){$exec(a)}this.fireEvent("beforeEffect",c);var e=function(){this.fireEvent("success",[c,this.update,b,g,f,a])}.bind(this);if(this.options.useReveal){c.get("reveal",this.options.revealOptions).chain(e);c.reveal()}else{e()}}.bind(this),failure:function(a){this.fireEvent("failure",a)}.bind(this)})}});